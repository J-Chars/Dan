;-----------------------
;-| DAN by JtheSaltyy |-
;-----------------------
;   - COMMAND FILE -
;-----------------------

;================================

[Remap]
x = x
y = y
z = z
a = a
b = b
c = c
s = s

;================================

[Defaults]
command.Time = 15
command.buffer.Time = 1

;================================

[Command]
name = "Shun Goku Satsu"
command = x, x, F, a, z
time = 52

[Command]
name = "Shun Goku Satsu"
command = x, x, F, a+z
time = 52

[Command]
name = "Shun Goku Satsu"
command = x, x, F+a+z
time = 52

[Command]
name = "Otoko Michi"
command = z, a, B, x, x
time = 52

[Command]
name = "Beam"
command = ~B, DB, D, DF, F, B, DB, D, DF, F, x
time = 48

[Command]
name = "Beam"
command = ~B, DB, D, DF, F, B, DB, D, DF, F, y
time = 48

[Command]
name = "Beam"
command = ~B, DB, D, DF, F, B, DB, D, DF, F, z
time = 48

[Command]
name = "Shisshou Buraiken" 
command = ~D, DB, B, D, DB, B, a+b
time = 32

[Command]
name = "Shisshou Buraiken" 
command = ~D, DB, B, D, DB, B, b+c
time = 32

[Command]
name = "Shisshou Buraiken" 
command = ~D, DB, B, D, DB, B, a+c
time = 32

[Command]
name = "Haoh Gadouken" 
command = ~D, DF, F, D, DF, F, x+y
time = 32

[Command]
name = "Haoh Gadouken" 
command = ~D, DF, F, D, DF, F, y+z
time = 32

[Command]
name = "Haoh Gadouken" 
command = ~D, DF, F, D, DF, F, x+z
time = 32

[Command]
name = "Super Saikyo Ball" 
command = ~B, DB, D, DF, F, D, DF, F, x
time = 60

[Command]
name = "Super Saikyo Ball" 
command = ~B, DB, D, DF, F, D, DF, F, y
time = 60

[Command]
name = "Super Saikyo Ball" 
command = ~B, DB, D, DF, F, D, DF, F, z
time = 60

[Command]
name = "Legendary Taunt" 
command = ~D, DF, F, D, DF, F, s
time = 32

[Command]
name = "Shinkuu Gadouken"
command = ~D, DF, F, D, DF, F, x
time = 32

[Command]
name = "Shinkuu Gadouken"
command = ~D, DF, F, D, DF, F, y
time = 32

[Command]
name = "Shinkuu Gadouken"
command = ~D, DF, F, D, DF, F, z
time = 32

[Command]
name = "Koryuurekka"  
command = ~D, DF, F, D, DF, F, a
time = 32

[Command]
name = "Koryuurekka"  
command = ~D, DF, F, D, DF, F, b
time = 32

[Command]
name = "Koryuurekka" 
command = ~D, DF, F, D, DF, F, c
time = 32

[Command]
name = "Hisshou Buraiken"  
command = ~D, DB, B, D, DB, B, a
time = 32

[Command]
name = "Hisshou Buraiken"   
command = ~D, DB, B, D, DB, B, b
time = 32

[Command]
name = "Hisshou Buraiken"  
command = ~D, DB, B, D, DB, B, c
time = 32

[Command]
name = "Saikyo Stampede"  
command = ~D, DB, B, D, DB, B, x
time = 32

[Command]
name = "Saikyo Stampede"  
command = ~D, DB, B, D, DB, B, y
time = 32

[Command]
name = "Saikyo Stampede" 
command = ~D, DB, B, D, DB, B, z
time = 32

[Command]
name = "custom-combo"
command = c+z
time = 1

;================================

[Command]
name = "powerup"
command = y+b
time = 1

;================================

[Command]
name = "Danchin"
command = ~F, $D, B, a
time = 25

[Command]
name = "Danchin"
command = ~F, $D, B, b
time = 25

[Command]
name = "Danchin"
command = ~F, $D, B, c
time = 25

[Command]
name = "EX Danchin"
command = ~F, $D, B, a+b
time = 25

[Command]
name = "EX Danchin"
command = ~F, $D, B, b+c
time = 25

[Command]
name = "EX Danchin"
command = ~F, $D, B, a+c
time = 25

;================================

[Command]
name = "Hadou Blast"
command = ~D, DF, F, x
time = 16

[Command]
name = "Hadou Blast"
command = ~D, DF, F, y
time = 16

[Command]
name = "Hadou Blast"
command = ~D, DF, F, z
time = 16

[Command]
name = "EX Hadou Blast"
command = ~D, DF, F, x+y
time = 16

[Command]
name = "EX Hadou Blast"
command = ~D, DF, F, y+z
time = 16

[Command]
name = "EX Hadou Blast"
command = ~D, DF, F, x+z
time = 16

;================================

[Command]
name = "Premium Autograph"
command = ~D, DF, F, a
time = 16

[Command]
name = "Premium Autograph"
command = ~D, DF, F, b
time = 16

[Command]
name = "Premium Autograph"
command = ~D, DF, F, c
time = 16

[Command]
name = "EX Premium Autograph"
command = ~D, DF, F, a+b
time = 16

[Command]
name = "EX Premium Autograph"
command = ~D, DF, F, b+c
time = 16

[Command]
name = "EX Premium Autograph"
command = ~D, DF, F, a+c
time = 16

;=========================

[Command]
name = "Saikyo Counter"
command = ~B, D, DB, x
time = 16

[Command]
name = "Saikyo Counter"
command = ~B, D, DB, y
time = 16

[Command]
name = "Saikyo Counter"
command = ~B, D, DB, z
time = 16

[Command]
name = "EX Saikyo Counter"
command = ~B, D, DB, x+y
time = 16

[Command]
name = "EX Saikyo Counter"
command = ~B, D, DB, y+z
time = 16

[Command]
name = "EX Saikyo Counter"
command = ~B, D, DB, x+z
time = 16

;=========================

[Command]
name = "Shouoken"
command = ~F, D, DF, x
time = 16

[Command]
name = "Shouoken"
command = ~F, D, DF, y
time = 16

[Command]
name = "Shouoken"
command = ~F, D, DF, z
time = 16

[Command]
name = "EX Shouoken"
command = ~F, D, DF, x+y
time = 16

[Command]
name = "EX Shouoken"
command = ~F, D, DF, y+z
time = 16

[Command]
name = "EX Shouoken"
command = ~F, D, DF, x+z
time = 16

;=========================

[Command]
name = "Shunpuukyaku"
command = ~D, DB, B, a
time = 16

[Command]
name = "Shunpuukyaku"
command = ~D, DB, B, b
time = 16

[Command]
name = "Shunpuukyaku"
command = ~D, DB, B, c
time = 16

[Command]
name = "EX Shunpuukyaku"
command = ~D, DB, B, a+b
time = 16

[Command]
name = "EX Shunpuukyaku"
command = ~D, DB, B, b+c
time = 16

[Command]
name = "EX Shunpuukyaku"
command = ~D, DB, B, a+c
time = 16

;=========================

[Command]
name = "Sakura Otoshi"
command = ~F, D, DF, a
time = 16

[Command]
name = "Sakura Otoshi"
command = ~F, D, DF, b
time = 16

[Command]
name = "Sakura Otoshi"
command = ~F, D, DF, c
time = 16

[Command]
name = "EX Sakura Otoshi"
command = ~F, D, DF, a+b
time = 16

[Command]
name = "EX Sakura Otoshi"
command = ~F, D, DF, b+c
time = 16

[Command]
name = "EX Sakura Otoshi"
command = ~F, D, DF, a+c
time = 16

;=========================

[Command]
name = "Oukakyaku"
command = ~D, DF, F, a
time = 16

[Command]
name = "Oukakyaku"
command = ~D, DF, F, b
time = 16

[Command]
name = "Oukakyaku"
command = ~D, DF, F, c
time = 16

[Command]
name = "EX Oukakyaku"
command = ~D, DF, F, a+b
time = 16

[Command]
name = "EX Oukakyaku"
command = ~D, DF, F, b+c
time = 16

[Command]
name = "EX Oukakyaku"
command = ~D, DF, F, a+c
time = 16

;=========================

[Command]
name = "Forward Rolling Taunt"
command = ~D, DF, F, s
time = 18

[Command]
name = "Backward Rolling Taunt"
command = ~D, DB, B, s
time = 18

;=========================

[Command]
name = "Senkuu1"
command = F, D, DF, x+y+z
time = 20

[Command]
name = "Senkuu2"
command = F, D, DF, a+b+c
time = 20 

[Command]
name = "Senkuu3"
command = B, D, DB, x+y+z
time = 20

[Command]
name = "Senkuu4"
command = B, D, DB, a+b+c
time = 20

;================================

[Command]
name = "roll"
command = a+x
time = 1

[Command]
name = "FF"  
command = F, F
time = 10

[Command]
name = "BB"    
command = B, B
time = 10

;================================
;Roll-Cancel Commands
;================================

[Command]
name = "RC_QCF"
command = ~D, DF, x+a
time = 16

[Command]
name = "RC_DP"
command = ~F, D, DF, x+a
time = 16

[Command]
name = "RC_QCB"
command = ~D, DB, x+a
time = 16

;================================

[Command]
name = "recovery"
command = x+y
time = 1

;================================

[Command]
name = "down_a"
command = ~D, a
time = 15

[Command]
name = "down_b"
command = ~D, b
time = 15

[Command]
name = "down_c"
command = ~D, c
time = 15

;================================

[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "2p"
command = x+y
time = 1

[Command]
name = "2p"
command = y+z
time = 1

[Command]
name = "2p"
command = x+z
time = 1

[Command]
name = "2k"
command = a+b
time = 1

[Command]
name = "2k"
command = b+c
time = 1

[Command]
name = "2k"
command = a+c
time = 1

[Command]
name = "ab"
command = a+b
time = 1

[Command]
name = "abc"
command = a+b+c
time = 2

[Command]
name = "p"
command = x
time = 1

[Command]
name = "p"
command = y
time = 1

[Command]
name = "p"
command = z
time = 1

[Command]
name = "k"
command = a
time = 1

[Command]
name = "k"
command = b
time = 1

[Command]
name = "k"
command = c
time = 1

[Command]
name = "start"
command = s
time = 1

;================================

[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup" 
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

[Command]
name = "holdz"
command = /z
time = 1
[Command]
name = "holdc"
command = /c
time = 1
[Command]
name = "holdy"
command = /y
time = 1
[Command]
name = "holdb"
command = /b
time = 1
[Command]
name = "holdx"
command = /x
time = 1
[Command]
name = "holda"
command = /a
time = 1
[Command]
name = "holds"
command = /s
time = 1

;================================

[Command]
name = "fwd"
command = F
time = 1

[Command]
name = "back"
command = B
time = 1

[Command]
name = "up"
command = U
time = 1

[Command]
name = "down"
command = D
time = 1

[Command]
name = "start"
command = s
time = 1
;================================

[Command]
name = "highjump"
command = $D,$U
time = 15

[Command]
name = "superjump"
command = ~D, U
time = 15

[Command]
name = "DU"
command = D, U
time = 18

[Command]
name = "DU"
command = DB, UF
time = 18

[Command]
name = "DU"
command = DF, UB
time = 18

[Command]
name = "DU"
command = $D, UF
time=18

[Command]
name = "DU"
command = $D, UB
time = 18

;================================

[Command]
name = "F"
command = F
time = 1

[Command]
name = "B"
command = B
time = 1

[Command]
name = "U"
command = U
time = 1

[Command]
name = "D"
command = D
time = 1

;================================

[Statedef -1]

;===[ AI MOTIONS ]===


;=[ AI SYSTEM MOVES ]=

[State -1, Standing Parry]
type = HitOverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = AILevel && statetype != A
trigger1 = random < 64 * AILevel
trigger1 = (StateNo = [120, 140]) || Ctrl
slot = 0
stateno = 700
attr = SA, AA, AP
time = 3

[State -1, Crouching Parry]
type = HitOverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = AILevel && statetype != A && ctrl
trigger1 = random < 64 * AILevel
trigger1 = (StateNo = [120, 140]) || Ctrl
slot = 0
stateno = 701
attr = C, AA, AP
time = 3

[State -1, Aerial Parry]
type = HitOverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = AILevel && statetype = A && ctrl
trigger1 = random < 64 * AILevel
slot = 0
stateno = 702
attr = SCA, AA, AP
time = 3

[State -1, Forward Run]
type = changestate
value = 100 + (((Var(59) = [0, 1]) || (Var(59) = [4, 5])) * 2)
trigger1 = AIlevel && numenemy
trigger1 = statetype = S && roundstate = 2 && ctrl 
trigger1 = (stateno != [100, 105]) && enemynear, movetype != A && p2bodydist x > 200
Trigger1 = Random < AILevel * 125

[State -1, Back Dash]
type = changestate
value = 105
triggerall = AIlevel && numenemy
triggerall = statetype = S && roundstate = 2 && ctrl 
triggerall = (stateno != [100, 105]) && enemynear, movetype != A
triggerall = inguarddist && enemynear, movetype = A
Trigger1 = Random < AILevel * 125

[State -1, Custom Combo]
type = changestate
value = 760
trigger1 = Var(59) = 1 || Var(59) = 6
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && statetype != A
trigger1 = power >= 1000 && !var(20) && enemynear, statetype != A
trigger1 = (ctrl || stateno = 52 || (stateno = [100, 101]))
trigger1 = (enemynear, movetype = A) && (p2bodydist x = [-45, 45]) && (enemynear, vel y >= 0)
trigger1 = (enemynear, hitdefattr != SCA, HA, HP, HT) && random < AILevel * 125

[State -1 Dodge/Roll]
type = changestate
value = cond((Var(59) = [0, 2]) || Var(59) = 4 || Var(59) = 6, 720, 710)
trigger1 = Var(59) != 3 && Var(59) != 5
trigger1 = AIlevel && numenemy
trigger1 = statetype = S && roundstate = 2 && ctrl 
trigger1 = (EnemyNear, MoveType = A) && p2bodydist x < 65
Trigger1 = Random < AILevel * cond(var(59) = 2, 16, 100)

[State -1, Guard]
type = changestate
value = 120
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && inguarddist
trigger1 = ctrl && (stateno != [120, 155]) && !var(20)
trigger1 = ifelse(statetype = A, (var(9) != 2 || stateno = 5210), 1)
trigger1 = !(enemynear, hitdefattr = SCA, AT) && (enemynear, time < 120)
trigger1 = statetype != A || p2statetype = A
trigger1 = random < 125 * AILevel

;=[ AI NORMALS ]=

[State -1, Crouching Light Punch]
type = changestate
value = 400
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x=[-24,24]) &&(p2dist y=[-50,50]) && p2statetype!=L && p2statetype!=A&&!(enemynear,hitfall)
trigger1 = ctrl && random < AILevel * 125

[State -1, Standing Light Kick]
type = changestate
value = 230
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x=[0,24]) && (p2dist y = [-50,50])&&p2statetype!=L && p2statetype!=A&&!(enemynear, hitfall)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
trigger1 = ctrl && random < (50 * (AIlevel ** 2 / 64.0))

[State -1, Crouching Light Punch Followup]
type = changestate
value = 230
trigger1 = AILevel && numenemy
trigger1 = StateType != A && roundstate = 2
trigger1 = stateno = 400 && movehit = 1 && animelemtime(3) > 0
trigger1 = p2bodydist x = [-24, 24]

[State -1, Crouching Light Punch]
type = changestate
value = 400
triggerall = AIlevel && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [-24, 24]) && (p2bodydist y = [ -50, 50]) && p2statetype = S && !(enemynear, hitfall)
trigger1 = ctrl && random < AILevel * 125

[State -1, Taunt]
type = changestate
value = ifelse(statetype = A, 197, ifelse(statetype = C, 196, 195))
triggerall = AIlevel && numenemy
triggerall = roundstate = 2 && ctrl
triggerall = life >= (enemynear, life) -200 && p2movetype != A && (prevstateno != [195, 199])
trigger1 = p2bodydist x >= 120 && random < 10 * AILevel
trigger2 = (stateno = [200, 250]) && (movehit = [1, 16]) && random < 10 * AILevel
trigger3 = p2statetype = L && random < 10 * AILevel

;=[ AI SPECIALS ]=

[State -1, Ashura Dankuu]
type = changestate
value = 1600
trigger1 = FVar(0)
trigger1 = AIlevel && numenemy
trigger1 = statetype != A && roundstate = 2
trigger1 = ctrl
trigger1 = (enemynear, p2bodydist x > 0) && (enemynear, facing != facing)
trigger1 = random < 16 * AILevel

[State -1, Koryuken]
type = changestate
value = cond(FVar(0), 1150, cond(power >= 500 && random > 500, 1130, 1100))
triggerall = AIlevel && numenemy
triggerall = roundstate = 2 && statetype != A
triggerall = (p2stateno != [120, 155]) && p2statetype != L && !(enemynear, hitfall)
triggerall = (p2bodydist x > 0) && (enemynear, vel y > -1) && (enemynear, vel x > -2)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
trigger1 = ctrl && p2bodydist x < 50 && random < 125 * AILevel
trigger2 = ctrl && p2bodydist x < 100 && p2dist y > 120 && random < 125 * AILevel

[State -1 Danchin]
type = changestate
value = 1700
triggerall = AIlevel && numenemy
triggerall = statetype != A
triggerall = roundstate = 2 && ctrl 
trigger1 = Enemy, StateType != L && P2BodyDist X <= 32 && (P2BodyDist Y = [-64, 64])
Trigger1 = Random < AILevel * 100

[State -1, Dankuukyaku]
type = changestate
value = cond(FVar(0), cond(random>500 && power >= 500, 1230, 1250), cond(random > 500 && power >= 500, 1230, 1200))
triggerall = AIlevel && numenemy
triggerall = roundstate = 2 && statetype != A
triggerall = (p2stateno != [120, 155]) && p2statetype != L && !(enemynear, hitfall)
triggerall = (p2bodydist x = [0, 80]) && (p2bodydist y >= -240) && (enemynear, vel y > -1)&&(enemynear, vel x > -2)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
trigger1 = ctrl && random < 125 * AILevel

;=[ AI SUPERS ]=

[State -1, Shisshou Buraiken / Haoh Gadouken]
type = changestate
value = cond(random > 500, 3200, 3300)
triggerall = AIlevel && numenemy
triggerall = roundstate = 2 && statetype != A && power >= 2000 && !var(20)
triggerall = !(enemynear, ctrl) && (p2stateno != [120, 155]) && p2statetype != A && p2statetype != L
triggerall = (p2bodydist x = [0, 40]) && (enemynear, vel x > -2) && !(enemynear, hitfall)
trigger1 = ctrl && random < 64 * AILevel
trigger2 = stateno = 220 && (movehit = [1, 16]) && random < 100 * AILevel

[State -1, Otoko Michi / Mega Gadou Beam]
type = changestate
value = cond(fvar(0), 3800, 4300)
triggerall = AIlevel && numenemy
triggerall = roundstate = 2 && statetype != A && power >= 3000
triggerall = !(enemynear, ctrl) && (p2stateno != [120, 155]) && p2statetype != L
triggerall = (p2bodydist x = [0, 90]) && (enemynear, vel y > -1)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
trigger1 = ctrl && random < 32 * AILevel
trigger2 = stateno = 220 && (movehit = [1, 16]) && random < 100 * AILevel

;=[ AI AIR ]=

[State -1, Jump-In Attack]
type = changestate
value = 650
triggerall = AILevel && NumEnemy
triggerall = RoundState = 2
triggerall = P2StateType = A && P2StateType != L
triggerall = (stateno = 50 || stateno = 51) && Vel Y >= 0
trigger1 = P2BodyDist X < 64
trigger1 = StateNo != [600, 699]
trigger1 = StateType = A
trigger1 = Ctrl
trigger1 = Random < AILevel * 125

[State -1, Air Hard]
type = changestate
value = 650
trigger1 = AILevel && NumEnemy
trigger1 = RoundState = 2
trigger1 = P2BodyDist X < 75
trigger1 = (StateNo != 220 || PrevStateNo != 620) || (StateNo != 650 || PrevStateNo != 650)
trigger1 = StateType = A
trigger1 = (StateNo = 610 && MoveContact = 1) || (StateNo = 640 && MoveContact = 1)
trigger1 = Random < AILevel * 125

;=[ AI SAFE-PLAY ]=

[State -1 Throw]
type = changestate
value = cond(pos Y < 0, 910, 900)
triggerall = stateno != 52 && stateno != [400, 499]
triggerall = AIlevel && numenemy
triggerall = cond(statetype = A, enemy, statetype = A, enemy, statetype != A)
triggerall = roundstate = 2 && ctrl 
trigger1 = Enemy, StateType != L && P2BodyDist X <= 32 && (P2BodyDist Y = [-64, 64])
Trigger1 = Random < AILevel * 125

[State -1, Jump]
type = changestate
value = 40
trigger1 = AILevel && NumEnemy
trigger1 = StateType != A && Roundstate = 2
trigger1 = ctrl
trigger1 = numtarget
trigger1 = target,Pos Y = [-150,-100]
trigger1 = target,backedgebodydist <= 0
trigger1 = frontedgedist < 50
Trigger1 = Random < AILevel * 64

[State -1, Advancing Guard]
type = ChangeState
value = 770
trigger1 = Var(59) = 4 || Var(59) = 6
trigger1 = stateno = 150 || stateno = 152
trigger1 = AILevel && NumEnemy
trigger1 = Enemy, MoveContact = 1 || Enemy, ProjContact = 1 || Enemy, NumHelper
trigger1 = StateType != A
Trigger1 = Random < AILevel * 125
trigger1 = stateno != 770 && prevstateno != 770

[State -1, Alpha Counter]
type = ChangeState
value = 780
trigger1 = Var(59) != 3 && Var(59) != 5
trigger1 = stateno = 150 || stateno = 151
trigger1 = AILevel && NumEnemy
trigger1 = power >= (750 + Random % 1000)
trigger1 = StateType != A
Trigger1 = Random < AILevel * 125
trigger1 = P2BodyDist X = [-32, 64]

[State -1, Power Charge]
type = changestate
value = 750
triggerall = Var(59) = 2 || Var(59) = 6
triggerall = !Var(20)
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = power < const(data.power) && power < powermax && !var(20)
trigger1 = !inguarddist && p2dist x >= 160
Trigger1 = Random < AILevel * 64
trigger1 = stateno != 750

;=[ AI RECOVERY ]=

[State -1, Fall Recovery]
type = changestate
value = 5210
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && alive
trigger1 = stateno = 5050 && canrecover
trigger1 = vel y > 0 && pos y < -20
Trigger1 = Random < AILevel * 125

[State -1, Fall Recovery]
type = changestate
value = 5200
trigger1 = AIlevel && numenemy
trigger1 = roundstate = 2 && alive
trigger1 = stateno = 5050 && gethitvar(fall.recover)
trigger1 = vel y > 0 && pos y >= -20
Trigger1 = Random < AILevel * 125

;=====[ COMMANDS ]=====


;===[ SYSTEM COMMANDS ]===


;=[ CUSTOM COMBO ]=

[State -1, Custom Combo]
type = ChangeState
value = 760
triggerall = Var(59) = 1 || Var(59) = 6
triggerall = !AIlevel
triggerall = !Var(40) && !Var(20)
triggerall = command = "custom-combo"
triggerall = roundstate = 2 && power >= 1000
trigger1 = ctrl
trigger2 = stateno = [195, 199]

;=[ CUSTOM DRIVE ]=

[State -1, Custom Drive]
type = ChangeState
value = 790
triggerall = Var(59) = 4
triggerall = !AIlevel
triggerall = StateType != A
triggerall = command = "custom-combo"
triggerall = roundstate = 2 && power >= 1000
trigger1 = ctrl || Var(1)

;=[ POWER UP ]=

[State -1, Power Up]
type = ChangeState
value = 750
trigger1 = Var(59) = 2
trigger1 = !AIlevel
trigger1 = command = "holdb" && command = "holdy"
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = power < const(data.power) && power < powermax

;=[ MAX MODE ]=

[State -1, Max Mode]
type = ChangeState
value = 740
trigger1 = Var(59) = 2 || Var(59) = 6
trigger1 = !AIlevel && !Var(40)
trigger1 = command = "custom-combo"
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = power >= 1000

;=[ ALPHA COUNTER ]=

[State -1, Alpha Counter]
type = ChangeState
value = 780
trigger1 = Var(59) != 5
trigger1 = stateno = [150, 153]
trigger1 = !AIlevel
trigger1 = command = "y" && command = "b"
trigger1 = power >= 500
trigger1 = StateType != A

;=[ ADVANCING GUARD ]=

[State -1, Advancing Guard/Guard Push]
type = ChangeState
value = 770
trigger1 = Var(59) = 4 || Var(59) = 6
trigger1 = stateno = [150, 153]
trigger1 = Enemy, MoveContact = 1 || Enemy, ProjContact = 1 || Enemy, NumHelper
trigger1 = !AIlevel
trigger1 = command = "x" && command = "a"
trigger1 = StateType != A
trigger1 = stateno != 770 && prevstateno != 770 && NumExplod(7300) <= 3

;=[ ROLL / DODGE ]=

[State -1, Roll]
type = changestate
value = 720
triggerall = !AIlevel
triggerall = (Var(59) = [0, 1]) || Var(59) = 4
triggerall = roundstate = 2 && statetype != A && ctrl
trigger1 = command = "roll" || command = "RC_QCF" || command = "RC_QCB" || command = "RC_DP"
trigger2 = command = "roll" && var(20) && StateType != A && (movecontact = [1, 24])

[State -1, Dodge]
type = changestate
value = 710
trigger1 = !AIlevel
trigger1 = Var(59) = 2
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = command = "roll"

[State -1, Roll / Dodge]
type = changestate
value = ifelse((command = "holdfwd" || command = "holdback"), 720, 710)
triggerall = !AIlevel
triggerall = Var(59) = 6
triggerall = roundstate = 2 && statetype != A && ctrl
trigger1 = command = "roll" || command = "RC_QCF" || command = "RC_QCB" || command = "RC_DP"
trigger2 = command = "roll" && var(20) && StateType != A && (movecontact = [1, 24])


;==[ SUPERS ]==


;=[ SHUN GOKU SATSU ]=

[State -1, Shun Goku Satsu]
type = ChangeState
value = cond(FVar(0), 3600, 4200)
triggerall = !AIlevel
triggerall = (Var(59) = 0 || Var(59) = 2 && Var(40) || Var(59) = 6)
triggerall = command = "Shun Goku Satsu"
triggerall = power >= 3000
triggerall = StateNo != cond(FVar(0), 3600, 4200)
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
triggerall = !MoveContact
trigger1 = ctrl
trigger2 = stateno = 230 || stateno = 220
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ OTOKO MICHI ]=

[State -1, Otoko Michi]
type = ChangeState
value = 4300
triggerall = !AIlevel
triggerall = (Var(59) = 0 || Var(59) = 2 && Var(40) || Var(59) = 6)
triggerall = !FVar(0)
triggerall = command = "Otoko Michi"
triggerall = power >= 3000
triggerall = StateNo != 4300
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
triggerall = !movecontact
trigger1 = ctrl
trigger2 = stateno = 220
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ OYAJI BEAM ]=

[State -1, Oyaji Beam]
type = ChangeState
value = cond(FVar(0), 3800, 3700)
triggerall = !AIlevel
triggerall = (Var(59) = 0 || Var(59) = 2 && Var(40) || Var(59) = 6)
triggerall = command = "Beam"
triggerall = power >= 3000
triggerall = StateNo != 3700
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ SUPER SAIKYO BALL ]=

[State -1, Super Saikyo Ball]
type = ChangeState
value = 3400
triggerall = !AIlevel
triggerall = command = "Super Saikyo Ball"
triggerall = power >= 1000 || var(20)
triggerall = StateNo != 3400
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = StateNo = [195, 199]
trigger4 = stateno = 4001
trigger5 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ SHISSHOU BURAIKEN ]=

[State -1, Shisshou Buraiken]
type = ChangeState
value = 3200
triggerall = ((Var(59) = [0, 1]) || Var(59) = 6)
triggerall = !AIlevel
triggerall = command = "Shisshou Buraiken"
triggerall = power >= 2000
triggerall = StateNo != 3200
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
triggerall = !Var(20)
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = StateNo = [195, 199]
trigger4 = stateno = 4001
trigger5 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ HAOH GADOUKEN ]=

[State -1, Haoh Gadouken]
type = ChangeState
value = 3300
triggerall = ((Var(59) = [0, 1]) || Var(59) = 6)
triggerall = !AIlevel
triggerall = command = "Haoh Gadouken"
triggerall = power >= 2000
triggerall = StateNo != 3300
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
triggerall = !Var(20)
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = StateNo = [195, 199]
trigger4 = stateno = 4001
trigger5 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ LEGENDARY TAUNT ]=

[State -1, Legendary Taunt]
type = ChangeState
value = 4000
triggerall = !AIlevel
triggerall = command = "Legendary Taunt"
triggerall = power >= 1000 || var(20)
triggerall = StateNo != 4000
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = StateNo = [195, 199]
trigger4 = stateno = 4001
trigger5 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ SAIKYO STAMPEDE ]=

[State -1, Saikyo Stampede]
type = ChangeState
value = 3500
triggerall = ((Var(59) = [0, 1]) || Var(59) = 6)
triggerall = !FVar(0)
triggerall = !AIlevel
triggerall = !numhelper(3505)
triggerall = command = "Saikyo Stampede"
triggerall = power >= 1000
triggerall = StateNo != 3500
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
triggerall = !Var(20)
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = StateNo = [195, 199]
trigger4 = stateno = 4001
trigger5 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ SHINKUU GADOUKEN ]=

[State -1, Shinkuu Gadouken]
type = ChangeState
value = 3000
triggerall = !AIlevel
triggerall = command = "Shinkuu Gadouken" && command != "Haoh Gadouken"
triggerall = power >= 1000 || var(20)
triggerall = StateNo != 3000
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = StateNo = [195, 199]
trigger4 = stateno = 4001
trigger5 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ KORYUUREKKA ]=

[State -1, Koryuurekka]
type = ChangeState
value = 3050
triggerall = !AIlevel
triggerall = command = "Koryuurekka"
triggerall = power >= 1000 || var(20)
triggerall = StateNo != 3050
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = Var(20) && (StateNo = [200, 2999]) && (MoveContact = [1, 32])
trigger4 = StateNo = [195, 199]
trigger5 = stateno = 4001
trigger6 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ HISSHOU BURAIKEN ]=

[State -1, Hisshou Buraiken]
type = ChangeState
value = 3100
triggerall = !AIlevel
triggerall = command = "Hisshou Buraiken" && command != "Shisshou Buraiken"
triggerall = power >= 1000 || var(20)
triggerall = StateNo != 3100
triggerall = StateType != A
triggerall = stateno != [1000, 2999]
trigger1 = ctrl
trigger2 = Var(1)
trigger3 = Var(20) && (StateNo = [200, 2999]) && (MoveContact = [1, 32])
trigger4 = StateNo = [195, 199]
trigger5 = stateno = 4001
trigger6 = (StateNo = [1000, 2999]) && MoveHit && (Var(59) = 3 || Var(59) = 6)

;=[ VAR(1) ]=

[State -1, Combo condition Reset]
type = VarSet
trigger1 = 1
var(1) = 0

[State -1, Combo condition Check]
type = VarSet
triggerall = statetype = S || statetype = C
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = [200,450]
trigger2 = movecontact ||(stateno!=230&&stateno!=250&&stateno!=420&&stateno!=450&&stateno!=210&&stateno!=430)
var(1) = 1

;===[ SPECIAL COMMANDS ]===


;=[ SAKURA SENKUU ]=

[State -1, Ashura Dankuu]
type = ChangeState
value = 1600
triggerall = Fvar(0) 
triggerall = StateType != A 
triggerall = Ctrl
trigger1 = command = "Senkuu1" 
trigger2 = command = "Senkuu2" 
trigger3 = command = "Senkuu3" 
trigger4 = command = "Senkuu4"


;=[ DAN BALL ]=

[State -1, Dan Ball]
type=ChangeState
value = Ifelse(command = "EX Sakura Otoshi" && power >= 500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1330, 1300)
triggerall = !AIlevel
triggerall = Command = "Sakura Otoshi" || Command = "EX Sakura Otoshi" && Power >= 500
triggerall = statetype != a
trigger1 = Ctrl
trigger2 = Var(1)


;=[ DANCHIN ]=

[State -1, Danchin]
type=ChangeState
value = Ifelse(command = "EX Danchin" && power >= 500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1730, 1700)
triggerall = !AIlevel
triggerall = Command = "Danchin" || Command = "EX Danchin" && Power >= 500
triggerall = statetype != a
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = movehit && var(20)


;=[ DANSETSUUKORYUKEN ]=

[State -1, Dansetsuukoryuken]
type=ChangeState
value = ifelse(power >= 500 && command = "EX Shouoken"&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1130, 1150)
triggerall = !AIlevel
triggerall = FVar(0)
triggerall = statetype != A
triggerall = Command = "Shouoken" || Command = "EX Shouoken" && Power >= 500
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = StateNo = 1100 && movecontact && animelemtime(4) > 0 && Var(20)
trigger4 = (stateno = [195, 450]) && movecontact && var(20)
trigger5 = (stateno = [1000, 2999]) && movecontact && var(20) && StateNo != 1400
trigger6 = stateno = 52 && (prevstateno = [1000, 2999]) && movecontact
trigger7 = (stateno = [195, 199]) && var(20)
trigger8 = anim = 1201 && animelemtime(1) > 0 && animelemtime(3) < 4


;=[ KORYUKEN ]=

[State -1, Koryuken]
type=ChangeState
value = ifelse(power >= 500 && command = "EX Shouoken"&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1130, 1100)
triggerall = !AIlevel
triggerall = !FVar(0)
triggerall = statetype != A
triggerall = Command = "Shouoken" || Command = "EX Shouoken" && Power >= 500
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = StateNo = 1100 && movecontact && animelemtime(4) > 0 && Var(20)
trigger4 = (stateno = [195, 450]) && movecontact && var(20)
trigger5 = (stateno = [1000, 2999]) && movecontact && var(20) && StateNo != 1400
trigger6 = stateno = 52 && (prevstateno = [1000, 2999]) && movecontact
trigger7 = (stateno = [195, 199]) && var(20)
trigger8 = anim = 1201 && animelemtime(1) > 0 && animelemtime(3) < 4


;=[ GADOUKEN ]=

[State -1, Gadouken]
type=ChangeState
value = Ifelse(command = "EX Hadou Blast" && power >= 500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1030, 1000)
triggerall = !AIlevel
triggerall = Command = "Hadou Blast" || Command = "EX Hadou Blast" && Power >= 500
triggerall = statetype != a
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = movehit && var(20)
trigger4 = anim = 1201 && animelemtime(1) > 0 && animelemtime(3) < 4


;=[ SAIKYO CRUSH COUNTER ]=

[State -1, Saikyo Crush Counter]
type=ChangeState
value = Ifelse(command = "EX Saikyo Counter" && power >= 500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1530, 1500)
triggerall = !AIlevel
triggerall = !FVar(0)
triggerall = Command = "Saikyo Counter" || Command = "EX Saikyo Counter" && Power >= 500
triggerall = statetype != a
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = movehit && var(20)
trigger4 = anim = 1201 && animelemtime(1) > 0 && animelemtime(3) < 4


;=[ DANSETSAIKYO COUNTER ]=

[State -1, Dansetsaikyo Counter]
type=ChangeState
value = Ifelse(command = "EX Saikyo Counter" && power >= 500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1530, 1550)
triggerall = !AIlevel
triggerall = FVar(0)
triggerall = Command = "Saikyo Counter" || Command = "EX Saikyo Counter" && Power >= 500
triggerall = statetype != a
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = movehit && var(20)
trigger4 = anim = 1201 && animelemtime(1) > 0 && animelemtime(3) < 4


;=[ PREMIUM AUTOGRAPH ]=

[State -1, Premium Autograph]
type=ChangeState
value = Ifelse(command = "EX Premium Autograph" && power >= 500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1430, 1400)
triggerall = !AIlevel
triggerall = !FVar(0)
triggerall = Command = "Premium Autograph" || Command = "EX Premium Autograph" && Power >= 500
triggerall = statetype != a
trigger1 = Ctrl
trigger2 = Var(1)
trigger3 = movehit && var(20)


;=[ DANKUUKYAKU ]=

[State -1, Dankuukyaku]
type=ChangeState
value = ifelse(command = "EX Shunpuukyaku" && Power >= 500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1230, 1200)
triggerall = !FVar(0)
triggerall = !AIlevel
triggerall = Command = "Shunpuukyaku" || Command = "EX Shunpuukyaku" && Power >= 500
trigger1 = Ctrl
trigger2 = (StateNo = [200, 650]) && (MoveHit = [1, 32])
trigger3 = movehit && var(20)


;=[ DANSETSUUKYAKU ]=

[State -1, Dansetsuukyaku]
type=ChangeState
value = ifelse(command = "EX Shunpuukyaku" && Power >= 500&&(Var(59)=1||Var(59)=3||(Var(59)=[5,6])), 1230, 1250)
triggerall = FVar(0)
triggerall = !AIlevel
triggerall = Command = "Shunpuukyaku" || Command = "EX Shunpuukyaku" && Power >= 500
trigger1 = Ctrl
trigger2 = (StateNo = [200, 650]) && (MoveHit = [1, 32])
trigger3 = movehit && var(20)


;===[ SYSTEM COMMANDS ]===


;=[ RUN FORWARD ]=

[State -1, Run]
type = ChangeState
value = 100 + (((Var(59) = [0, 1]) || (Var(59) = [4, 5])) * 2)
trigger1 = !AIlevel
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;=[ BACK DASH ]=

[State -1, Back Dash]
type = ChangeState
value = 105
trigger1 = !AIlevel
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;=[ SUPER JUMP ]=

[State -1,  Jump]
type = ChangeState
value = 41
triggerall = (Var(59) = [0, 1]) || Var(59) = 6
triggerall = !AILevel && roundstate = 2 && statetype != A
trigger1 = ctrl && command = "DU" 

;=[ ROLLING TAUNT ]=

[State -1, Rolling Taunt]
type = changestate
value = 199
triggerall = !AIlevel
triggerall = command = "Forward Rolling Taunt" || command = "Backward Rolling Taunt"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = var(20) && (movecontact = [1, 32]) && (stateno = [190, 2999])
trigger3 = (movecontact = [1, 32]) && (stateno = [200, 450])
trigger4 = stateno = 1000 && animelemtime(5) > 1 && animelemtime(6) < 2 && (movecontact = [1, 32])
trigger5 = stateno = 1100 && animelemtime(3) > 1 && animelemtime(4) < 0 && (movecontact = [1, 32])

;=[ TAUNT CANCEL ]=

[State -1, Taunt Cancel]
type = changestate
value = 198
triggerall = !AIlevel
triggerall = command = "start"
triggerall = !(command = "Forward Rolling Taunt" || command = "Backward Rolling Taunt")
triggerall = MoveHit = [1, 32]
triggerall = numexplod(198) = 0
trigger1 = stateno = 200 && animelemtime(2) > 2
trigger2 = stateno = 210 && animelemtime(3) > 1 && animelemtime(4) < 3
trigger3 = stateno = 220 && animelemtime(3) > 1 && animelemtime(6) < 3
trigger4 = stateno = 230 && animelemtime(3) > 1 && animelemtime(5) < 1
trigger5 = stateno = 240 && animelemtime(3) > 2 && animelemtime(5) < 2
trigger6 = stateno = 250 && animelemtime(5) > 1 && animelemtime(7) < 0
trigger7 = stateno = 400 && animelemtime(2) > 2
trigger8 = stateno = 410 && animelemtime(3) > 1 && animelemtime(5) < 0
trigger9 = stateno = 420 && animelemtime(3) > 1 && animelemtime(5) < 2
trigger10 = stateno = 430 && animelemtime(4) > 1 && animelemtime(5) < 3
trigger11 = stateno = 440 && animelemtime(5) > 1 && animelemtime(6) < 4

;=[ TAUNT ]=

[State -1, Taunt]
type = changestate
value = cond(command = "holddown" && statetype != A, 196, cond(command != "holddown" && statetype != A, 195, 197))
triggerall = !AIlevel
triggerall = command = "start"
triggerall = !(command = "Forward Rolling Taunt" || command = "Backward Rolling Taunt")
trigger1 = ctrl
trigger2 = var(20) && (movecontact = [1, 32]) && (stateno = [190, 650])
trigger3 = (movecontact = [1, 32]) && (stateno = [200, 450])
trigger3 = !(stateno = 200 && animelemtime(2) > 2)
trigger3 = !(stateno = 210 && animelemtime(3) > 1 && animelemtime(4) < 3)
trigger3 = !(stateno = 220 && animelemtime(3) > 1 && animelemtime(6) < 3)
trigger3 = !(stateno = 230 && animelemtime(3) > 1 && animelemtime(5) < 1)
trigger3 = !(stateno = 240 && animelemtime(3) > 2 && animelemtime(5) < 2)
trigger3 = !(stateno = 250 && animelemtime(5) > 1 && animelemtime(7) < 0)
trigger3 = !(stateno = 400 && animelemtime(2) > 2)
trigger3 = !(stateno = 410 && animelemtime(3) > 1 && animelemtime(5) < 0)
trigger3 = !(stateno = 420 && animelemtime(3) > 1 && animelemtime(5) < 2)
trigger3 = !(stateno = 430 && animelemtime(4) > 1 && animelemtime(5) < 3)
trigger3 = !(stateno = 440 && animelemtime(5) > 1 && animelemtime(6) < 4)
trigger4 = stateno = 1100 && statetype = A && Var(20)

;=[ THROW ]=

[State -1, Throw]
type = ChangeState
value = 900
trigger1 = !AIlevel
trigger1 = (Command = "2p" || command = "2k") && (Command = "holdfwd" || command = "holdback")
trigger1 = Ctrl
trigger1 = StateType = S
trigger1 = PrevStateNo = 20 || PrevStateNo = 0 || PrevStateNo = 52 || PrevStateNo = 101 || PrevStateno = 100


;=[ AERIAL THROW ]=

[State -1, Air Throw]
type = ChangeState
value = 910
trigger1 = !AIlevel
trigger1 = (command = "2p") && (Command = "holdfwd" || command = "holdback")
trigger1 = Ctrl
trigger1 = StateType = A


;===[ NEUTRAL ATTACKS ]===


;=[ JAB ]=

[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = !AIlevel
triggerall = command = "x"
triggerall = command != "holddown"
trigger1 = statetype = S && ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact
trigger3 = (StateNo = 200) && animelemtime(2) > 1
trigger4 = MoveHit && (StateNo = 400) && animelemtime(3) > 0
trigger5 = MoveHit && (StateNo = 430) && animelemtime(3) > 0

;=[ STRONG ]=

[State -1, Stand Strong Punch]
type = ChangeState
value = 210
triggerall = !AIlevel
triggerall = !AIlevel
triggerall = command = "y" && command != "holddown" && statetype != A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact

;=[ FIERCE ]=

[State -1, Stand Fierce Punch]
type = ChangeState
value = 220
triggerall = !AIlevel
triggerall = !AIlevel
triggerall = command = "z" && command != "holddown" && statetype != A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact
trigger3 = MoveHit && (StateNo = 200) && animelemtime(3) > 0
trigger4 = MoveHit && (StateNo = 230) && animelemtime(5) > 0

;=[ SHORT ]=

[State -1, Stand Light Kick]
type = ChangeState
value = 230
triggerall = !AIlevel
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact
trigger3 = MoveHit && (StateNo = 200) && animelemtime(2) > 1
trigger4 = MoveHit && (StateNo = 400) && animelemtime(2) > 1
trigger5 = MoveHit && (StateNo = 430) && animelemtime(3) > 0

;=[ FORWARD ]=

[State -1, Standing Strong Kick]
type = ChangeState
value = 240
triggerall = !AIlevel
triggerall = command = "b" &&  command != "holddown" && statetype != A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact

;=[ ROUNDHOUSE ]=

[State -1, Roundhouse]
type = ChangeState
value = 250 
triggerall = !AIlevel
triggerall = command = "c" && command != "holddown" && statetype != A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact

;=[ CROUCHING JAB ]=

[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = !AIlevel
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact
trigger3 = stateno = 400 && animelemtime(2) > 1
trigger4 = stateno = 430 && animelemtime(3) > 0

;=[ CROUCHING STRONG ]=

[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = !AIlevel
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact

;=[ CROUCHING FIERCE ]=

[State -1, Crouching Fierce Punch]
type = ChangeState
value = 420
triggerall = !AIlevel
triggerall = command = "z"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact

;=[ CROUCHING SHORT ]=

[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = !AIlevel
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact
trigger3 = stateno = 400 && animelemtime(2) > 1 && movehit

;=[ CROUCHING FORWARD ]=

[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = !AIlevel
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact

;=[ CROUCHING ROUNDHOUSE ]=

[State -1, Crouching Sweep]
type = ChangeState
value = 450
triggerall = !AIlevel
triggerall = command = "c"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = var(20) && (stateno = [195, 499]) && movecontact

;=[ AERIAL JAB ]=

[State -1, Jump Light Punch]
type = ChangeState
value = 600
triggerall = !AIlevel
triggerall = command = "x"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL STRONG ]=

[State -1, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = !AIlevel
triggerall = command = "y"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL FIERCE ]=

[State -1, Jump Fierce Punch]
type = ChangeState
value = 620
triggerall = !AIlevel
triggerall = command = "z"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL SHORT ]=

[State -1, Jump Light Kick]
type = ChangeState
value = 630
triggerall = !AIlevel
triggerall = command = "a"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL FORWARD ]=

[State -1, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = !AIlevel
triggerall = command = "b"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact

;=[ AERIAL ROUNDHOUSE ]=

[State -1, Jump Roundhouse Kick]
type = ChangeState
value = 650
triggerall = !AIlevel
triggerall = command = "c"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(20) && (stateno = [600,699]) && movecontact



;=[ PARRY ]=

[State -1, Standing Parry]
type = hitoverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = !AIlevel
triggerall = pos Y = 0
trigger1 = statetype != A
trigger1 = roundstate = 2 && (statetype = S || stateno = 5120)
trigger1 = command = "F" && command != "B" && command != "U" && command != "D"
trigger1 = ctrl || (stateno = [700, 701]) || stateno = 5120
attr = SA, AA, AP
stateno = 700
slot = 0
time = 10

[State -1, Crouching Parry]
type = hitoverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
triggerall = !AIlevel
triggerall = pos Y = 0
trigger1 = roundstate = 2 && statetype != A
trigger1 = statetype = C
trigger1 = command = "F" && command != "B" && command != "U" && command != "D"
trigger1 = ctrl || (stateno = [700, 701]) || stateno = 5120
attr = C, AA, AP
stateno = 701
slot = 0
time = 10

[State -1, Air Parry]
type = hitoverride
triggerall = (Var(59) = [0, 1]) || (Var(59) = [5, 6])
trigger1 = !AIlevel
trigger1 = roundstate = 2 && statetype = A
trigger1 = command = "F" && command != "B" && command != "U" && command != "D"
trigger1 = ctrl || stateno = 702
attr = SA, AA, AP
stateno = 702
forceair = 1
slot = 0
forceair = 1
slot = 0
time = 8